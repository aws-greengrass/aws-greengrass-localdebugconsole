services:
  aws.greengrass.Nucleus:
    configuration:
      runWithDefault:
        posixUser: nobody
  main:
    lifecycle:
      run:
          echo "Main ran"
    dependencies:
      - testList
      - testComponent
      - whileTrue
      - definitelyBroken
  testList:
    lifecycle:
      run:
        echo "List test ran"
  testComponent:
    lifecycle:
      run:
        echo "Component test ran"
  whileTrue:
    lifecycle:
      run:
        while true; do echo "running big loop" && sleep 1; done
  definitelyBroken:
    lifecycle:
      run:
        java Nope
  aws.greengrass.LocalDebugConsole:
    configuration:
      httpsEnabled: false
